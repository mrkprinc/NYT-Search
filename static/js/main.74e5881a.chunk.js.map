{"version":3,"sources":["components/SearchPage.js","components/SearchBox.js","components/ResultsPanel.js","components/Result.js","components/ResultButton.js","components/SavedPage.js","components/App.js","index.js"],"names":["SearchPage","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","clickSearch","e","preventDefault","setState","resultSet","displayResults","url","document","getElementById","value","trim","startEntered","endEntered","concat","fetch","then","response","json","data","filter","article","pub_date","map","_id","title","headline","main","snippet","date","web_url","active","clickSave","el","target","method","headers","Content-Type","body","JSON","stringify","state","parseInt","getAttribute","react_default","a","createElement","components_SearchBox","key","components_ResultsPanel","resultSource","buttonClick","React","Component","SearchBox","props","id","onSubmit","htmlFor","type","placeholder","className","onClick","ResultsPanel","results","length","i","components_Result","index","Result","moment","format","href","components_ResultButton","ResultButton","clickHandler","status","addedClass","buttonText","_ref","_ref2","slicedToArray","data-index","SavedPage","clickDelete","dataSet","articleId","_this2","catch","err","console","log","App","BrowserRouter","Link","to","Switch","Route","path","component","ReactDOM","render","src_components_App"],"mappings":"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","file":"static/js/main.74e5881a.chunk.js","sourcesContent":["import React from 'react';\nimport {SearchBox, ResultsPanel} from './index';\n\nclass SearchPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      displayResults: false,\n      resultSet: []\n    }\n  }\n\n  clickSearch = e => {\n    e.preventDefault();\n    this.setState({\n      resultSet: [],\n      displayResults: true\n    });\n    let url = 'https://intense-island-98620.herokuapp.com/api/' + document.getElementById('txtTopic').value.trim();\n    let startEntered = document.getElementById('txtStartDate').value.trim();\n    let endEntered = document.getElementById('txtEndDate').value.trim();\n    if(startEntered && endEntered) {\n      url += `/${startEntered}/${endEntered}`;\n    }\n    fetch(url)\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        let resultSet = data\n          .filter(article => {return article.pub_date})\n          .map(article => {\n            return {\n              _id: article._id,\n              title: article.headline.main,\n              snippet: article.snippet,\n              date: article.pub_date,\n              url: article.web_url,\n              active: 1\n            }\n          })\n        this.setState({ resultSet });\n      })\n  }\n\n  clickSave = e => {\n    let el = e.target;\n    fetch('https://intense-island-98620.herokuapp.com/api/saved', {\n      method: \"POST\", \n      headers: {\n          \"Content-Type\": \"application/json; charset=utf-8\",\n      },\n      body: JSON.stringify(this.state.resultSet[parseInt(el.getAttribute('data-index'))])\n    })\n  }\n\n  render() {\n    if(this.state.displayResults) {\n      return (\n        <main>\n          <SearchBox clickSearch={this.clickSearch} key={0} />\n          <ResultsPanel \n            resultSet={this.state.resultSet} \n            resultSource={'webAPI'} \n            buttonClick={this.clickSave} \n            key={1} \n          />\n        </main>\n      )\n    } else {\n      return (\n        <main>\n          <SearchBox clickSearch={this.clickSearch} key={0} />\n        </main>\n      ) \n    }\n  }\n}\n\nexport default SearchPage;","import React from 'react';\n\nconst SearchBox = (props) => {\n  return (\n    <section id='searchBox'>\n      <form onSubmit={(e) => e.preventDefault()}>\n        <div>\n          <label htmlFor='txtTopic'>Topic: </label>\n          <input id='txtTopic' type='text'></input>\n        </div>\n\n        <div>\n          <label htmlFor='txtStartDate'>Start Date: </label>\n          <input id='txtStartDate' type='text' placeholder='YYYYMMDD'></input>\n        </div>\n\n        <div>\n          <label htmlFor='txtEndDate'>End Date: </label>\n          <input id='txtEndDate' type='text' placeholder='YYYYMMDD'></input>\n        </div>\n\n        <div>\n          <span id='btnSearch' className='button' onClick={props.clickSearch}>Search</span>\n        </div>\n      </form>\n    </section>\n  ) \n}\n\nexport default SearchBox;","import React from 'react';\nimport {Result} from './index';\n\nconst ResultsPanel = (props) => {\n  let results;\n  if(props.resultSet.length) {\n    results = props.resultSet.map((article, i) => {\n      return (\n        <Result \n          article={article} \n          resultSource={props.resultSource}\n          buttonClick={props.buttonClick}\n          key={article._id}\n          index={i}\n        />\n      )\n    })\n  } else results = (\n    <div>\n      <span className='spin'>âœ°</span>\n      <span>Retrieving articles...</span>\n    </div>\n  )\n\n  return (\n    <section className='resultsPanel'>\n      {results}\n    </section>\n  )\n}\n\nexport default ResultsPanel;","import React from 'react';\nimport {ResultButton} from './index';\nimport moment from 'moment';\n\nclass Result extends React.Component {\n  render() {\n    return (\n      <div className='searchResult'>\n        <div className='noShrink'>\n          <span className='dateSpan'>{moment(this.props.article.date).format('MMM Do YYYY')}</span>\n        </div>\n  \n        <div className='grow'>\n          <strong>{this.props.article.title}</strong><br />\n          {this.props.article.snippet}\n        </div>\n  \n        <div className='noShrink'>\n          <a className='button' href={this.props.article.url} target='blank'>Go to Article</a>\n          <ResultButton \n            buttonClick={this.props.buttonClick} \n            index={this.props.index}\n            resultSource={this.props.resultSource}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Result;","import React from 'react';\r\n\r\nclass ResultButton extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.addedClass = '';\r\n    this.buttonText = props.resultSource === 'webAPI' ? 'save' : 'delete';\r\n    this.state = {\r\n      status: 'click'\r\n    }\r\n  }\r\n\r\n  clickHandler = e => {\r\n    this.props.buttonClick(e);\r\n    this.setState({status: 'done'});\r\n  }\r\n\r\n  render() {\r\n    switch(this.state.status) {\r\n      case 'done':\r\n        [this.addedClass, this.buttonText] = \r\n          this.props.resultSource === 'webAPI' ? ['saved', 'saved'] : ['deleted', 'deleted'];\r\n        break;\r\n      default:\r\n    }\r\n  \r\n    return (\r\n      <div \r\n        className={`button ${this.addedClass}`} \r\n        data-index={this.props.index}\r\n        onClick={this.clickHandler}\r\n      >\r\n        {this.buttonText}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ResultButton;\r\n","import React from 'react';\nimport {ResultsPanel} from './index';\n\nclass SavedPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      dataSet: []\n    }\n  }\n\n  componentDidMount() {\n    fetch('https://intense-island-98620.herokuapp.com/api/saved')\n      .then(response => {\n        return response.json();\n      })\n      .then(dataSet => {\n        this.setState({ dataSet });\n      })\n      .catch(err => console.log(err));\n  }\n\n  clickDelete = e => {\n    let el = e.target;\n    let url = 'https://intense-island-98620.herokuapp.com/api/saved/remove/';\n    url += this.state.dataSet[parseInt(el.getAttribute('data-index'))].articleId;\n    fetch(url, {method: 'PUT'})\n      .then(response => {\n        return response;\n      })\n      .then(() => {\n        fetch('https://intense-island-98620.herokuapp.com/api/saved')\n          .then(response => {\n            return response.json();\n          })\n          .then(data => {\n            this.setState({dataSet: data});\n          })\n      })\n  }\n\n  render() {\n    console.log(this.state.dataSet)\n    return (\n      <ResultsPanel resultSet={this.state.dataSet} resultSource='db' buttonClick={this.clickDelete} />\n    )\n  }\n}\n\nexport default SavedPage;","import React from 'react';\nimport {BrowserRouter as Router, Link, Route, Switch} from 'react-router-dom';\nimport {SearchPage, SavedPage} from './index';\nimport './App.css';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Router>\n        <div>\n          <header>\n            <h1>New York Times Search</h1>\n            <h3>find, save &amp; annotate articles</h3>\n            <nav>\n              <Link to='/'>Article Search</Link>\n              <Link to='/saved'>Saved Articles</Link>\n            </nav>\n          </header>\n        \n          <Switch>\n            <Route path='/saved' component={SavedPage} />\n            <Route path='/' component={SearchPage} />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}