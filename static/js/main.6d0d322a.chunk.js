(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(52)},47:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),i=a(6),u=a(7),s=a(11),o=a(8),m=a(12),d=a(55),p=a(54),E=a(57),h=a(56),S=a(14),v=a.n(S),f=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(o.a)(t).call(this))).clickSearch=function(t){t.preventDefault(),e.setState({displayResults:!0}),v.a.get("https://intense-island-98620.herokuapp.com/api",{params:{query:document.getElementById("txtTopic").value.trim()||"Boston",startDate:document.getElementById("txtStartDate").value.trim()||null,endDate:document.getElementById("txtEndDate").value.trim()||null}}).then(function(t){var a=t.data.filter(function(e){return e.pub_date}).map(function(e){return{_id:e._id,headline:e.headline.main,snippet:e.snippet,date:e.pub_date,url:e.web_url}});e.setState({resultSet:a})})},e.clickSave=function(t){v.a.post("https://intense-island-98620.herokuapp.com/api",{article:e.state.resultSet[parseInt(t.target.getAttribute("data-index"))]}).then(function(e){console.log(e),t.target.classList.add("saved")}).catch(function(e){return console.log(e)})},e.state={displayResults:!1,resultSet:[]},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.displayResults?l.a.createElement("main",null,l.a.createElement(k,{clickSearch:this.clickSearch,key:0}),l.a.createElement(b,{resultSet:this.state.resultSet,resultSource:"webAPI",clickSave:this.clickSave,key:1})):l.a.createElement("main",null,l.a.createElement(k,{clickSearch:this.clickSearch,key:0}))}}]),t}(l.a.Component),k=function(e){return l.a.createElement("section",{id:"searchBox"},l.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"txtTopic"},"Topic: "),l.a.createElement("input",{id:"txtTopic",type:"text"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"txtStartDate"},"Start Date: "),l.a.createElement("input",{id:"txtStartDate",type:"text",placeholder:"MM/DD/YYYY"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"txtEndDate"},"End Date: "),l.a.createElement("input",{id:"txtEndDate",type:"text",placeholder:"MM/DD/YYYY"})),l.a.createElement("div",null,l.a.createElement("span",{id:"btnSearch",className:"button",onClick:e.clickSearch},"Search"))))},b=function(e){var t;return t=e.resultSet.length?e.resultSet.map(function(t,a){return l.a.createElement(x,{article:t,resultSource:e.resultSource,clickSave:e.clickSave,key:t._id,index:a})}):l.a.createElement("div",null,l.a.createElement("span",{className:"spin"},"\u2730"),l.a.createElement("span",null,"Searching for results...")),l.a.createElement("section",{className:"resultsPanel"},t)},x=function(e){var t="webAPI"===e.resultSource?"Save":"Delete";return l.a.createElement("div",{className:"searchResult",onClick:e.clickSave,"data-index":e.index},l.a.createElement("div",{className:"noShrink"},l.a.createElement("span",{className:"dateSpan"},e.article.date)),l.a.createElement("div",null,l.a.createElement("strong",null,e.article.headline),l.a.createElement("br",null),e.article.snippet),l.a.createElement("div",{className:"noShrink"},l.a.createElement("a",{href:e.article.url,target:"blank"},"Go to Article"),l.a.createElement("div",{className:"button"},t)))},y=function(e){return l.a.createElement("div",null,"This is the saved page")},D=(a(47),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",null,l.a.createElement("header",null,l.a.createElement("h1",null,"New York Times Search"),l.a.createElement("h3",null,"find, save & annotate articles"),l.a.createElement("nav",null,l.a.createElement(p.a,{to:"/"},"Article Search"),l.a.createElement(p.a,{to:"/saved"},"Saved Articles"))),l.a.createElement(E.a,null,l.a.createElement(h.a,{path:"/saved",component:y}),l.a.createElement(h.a,{path:"/",component:f}))))}}]),t}(l.a.Component));c.a.render(l.a.createElement(D,null),document.getElementById("root"))}},[[23,2,1]]]);
//# sourceMappingURL=main.6d0d322a.chunk.js.map